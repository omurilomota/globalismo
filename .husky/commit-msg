#!/bin/sh

GITMOJIS="âœ¨ ğŸ¨ ğŸ”§ âš¡ ğŸš€ ğŸ“¦ ğŸ› ğŸ”¨ âœï¸ ğŸ§ª âœ… âŒ ğŸ”’ ğŸŒ â™»ï¸ ğŸ‘•"
COMMIT_MSG=$(cat "$1")
FIRST_WORD=$(echo "$COMMIT_MSG" | head -n1 | cut -d' ' -f1)

VALID=false
for emoji in $GITMOJIS; do
  if [ "$FIRST_WORD" = "$emoji" ]; then
    VALID=true
    break
  fi
done

if [ "$VALID" = false ]; then
  echo "âŒ Commit invÃ¡lido: deve comeÃ§ar com um gitmoji vÃ¡lido."
  echo "   Gitmojis vÃ¡lidos: $GITMOJIS"
  echo "   Exemplo: ğŸ”§ chore: adicionar nova funcionalidade"
  exit 1
fi

exit 0
